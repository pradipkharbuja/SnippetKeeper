<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="lib/codemirror.css">
  <script src="lib/codemirror.js"></script>
  <script src="mode/clike/clike.js"></script>
  <script src="addon/selection/active-line.js"></script>
  <script src="addon/edit/matchbrackets.js"></script>
</head>
<body>
  <textarea id="code" name="code">
  function findSequence(goal) {
    function find(start, history) {
      if (start == goal)
        return history;
      else if (start > goal)
        return null;
      else
        return find(start + 5, "(" + history + " + 5)") ||
               find(start * 3, "(" + history + " * 3)");
    }
    return find(1, "1");
  }</textarea>
  
  <pre>
	  <code class="language-java">
		package com.packt.webstore.controller;

		import javax.servlet.http.HttpServletRequest;
		import javax.validation.Valid;

		import org.springframework.beans.factory.annotation.Autowired;
		import org.springframework.security.access.prepost.PreAuthorize;
		import org.springframework.stereotype.Controller;
		import org.springframework.ui.Model;
		import org.springframework.validation.BindingResult;
		import org.springframework.web.bind.annotation.ModelAttribute;
		import org.springframework.web.bind.annotation.RequestMapping;
		import org.springframework.web.bind.annotation.RequestMethod;
		import org.springframework.web.bind.annotation.RequestParam;

		import com.packt.webstore.domain.Employee;
		import com.packt.webstore.service.EmployeeService;
 

		@Controller
		@RequestMapping({"/employees"})
		public class EmployeeController {
	
			@Autowired
			private EmployeeService employeeService;
	
		//	@Autowired
		//	private EmployeeValidator employeeValidator;

			@RequestMapping(value={"","/list"})
			public String listEmployees(Model model) {
				model.addAttribute("employees", employeeService.findAll());
				return "employees";
			}
	
		  	@RequestMapping("/employee")
			public String getEmployeeById(Model model, @RequestParam("id") Long employeeId) {
				Employee employee = employeeService.findByEmployeeNumber(employeeId);
				model.addAttribute("employee", employee);
				return "employee";
			}

	
			@RequestMapping(value = "/add", method = RequestMethod.GET)
			@PreAuthorize("hasRole('ROLE_ADMIN')")    // If global-method-security enabled in Dispatcher config
			public String getAddNewEmployeeForm(@ModelAttribute("newEmployee") Employee newEmployee) {
			   return "addEmployee";
			}
	   
			@RequestMapping(value = "/add", method = RequestMethod.POST)
			@PreAuthorize("hasRole('ROLE_ADMIN')")    // If global-method-security enabled in Dispatcher config
			public String processAddNewEmployeeForm(@ModelAttribute("newEmployee") @Valid Employee employeeToBeAdded, BindingResult result, HttpServletRequest request) {
				if(result.hasErrors()) {
					return "addEmployee";
				}

		   		try {
					employeeService.save(employeeToBeAdded);
				} catch (Exception up) {
			      System.out.println("Transaction Failed!!!");
 
				}
		
			   	return "redirect:/employees/list";
			}
	
 
		}
  	  </code>
  </pre>
<script>
  var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
    lineNumbers: true,
    styleActiveLine: true,
    matchBrackets: true,
	  mode: "text/x-java"
  });
</script>
</body>
</html>